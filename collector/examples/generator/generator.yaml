extensions:
  memory_limiter:
    memory_limit_mib: 1

receivers:
  otelarrow:
    protocols:
      grpc:
        endpoint: localhost:4317
        memory_limiter: memory_limiter
        max_recv_msg_size_mib: 3000

processors:
  concurrentbatch:

exporters:
  debug:
    verbosity: basic
  otelarrow/ls:
    endpoint: ingest.lightstep.com:443
    headers:
      "lightstep-access-token": ${LS_TOKEN} 

service:
  pipelines:
    traces:
      receivers: [otelarrow]
      processors: []
      exporters: [debug, otelarrow/ls]

  extensions: [memory_limiter]